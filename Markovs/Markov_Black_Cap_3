define variable key_voice_one = {78 79 77 81 74 80 73 74 76 77 58 68 96 60 96 97 78 66 65 64 63 62 68 65 95 86 79 80 75 76 77 87 86 76 74 70 69 76 77 78 79 81 80 86 85 72 74 76 75 74 82 77 81 83 84 91 80 86 74 72 73 77 78 77 76 73 76 77 78 70 83 69 70 76 77 78 75 77 75 79 71 70 77 78 86 89 80 79 78 82 67 0 81 83 78 80 78 79 76 77 78 75 51 77 75 76 77 76 77 78 79 78 79 78 79 0 77 0 78 0 0 76 53 66 77 79 80 56 80 60 91 56 65 0 0 50 0 56 80 68 80 61 91 79 78 58 73 0 54 64 52 77 54 94 49 68 79 78 91 0 62 63 57 76 77 46 54 60 67 79 66 77 94 93 82 91 100 99 79 58 83 50 78 75 74 86 87 85 81 82 73 79 78 76 89 88 84 86 81 78 77 76 75 74 83 81 80 79 78 77 75 76 75 73 83 84 81 80 81 82 70 83 84 85 84 85 84 0 89 88 87 86 85 84 0 0 77 76 75 76 77 78 77 0 77 78 0 57 85 77 76 63 78 79 80 81 82 83 92 93 63 81 79 80 79 80 79 80 79 80 79 80 81 80 79 80 0 0 0 0 60 68 66 58 61 65 58 74 57 46 73 55 0 75 47 76 80 77 50 58 53 59 54 78 59 50 60 79 66 78 60 50 45 79 66 50 66 51 78 47 60 50 60 79 44 60 79 92 44 75 79 58 55 79 59 60 56 81 73 74 84 71 70 69 68 67 66 95 71 70 69 68 67 66 72 71 70 69 68 67 80 81 85 74 73 84 83 81 67 96 67 73 69 78 79 78 99 80 79 78 77 87 91 90 86 91 92 91 86 83 92 91 0 73 74 75 76 77 78 79 80 81 82 83 84 83 0 67 95 94 95 91 92 46 93 81 90 87 84 72 66 86 81 62 86 53 84 83 50 80 79 91 82 84 82 84 83 82 81 83 51 47 77 78 82 84 82 83 88 89 53 90 53 91 86 78 77 76 75 74 72 71 72 73 77 78 79 78 55 79 50 69 70 72 73 74 72 73 74 72 73 74 73 0 74 73 74 73 74 0 73 48 73 74 75 76 77 76 74 72 70 69 44 0 0 71 72 73 74 76 77 76 74 72 69 72 0 84 85 81 80 74 76 77 78 84 91 78 77 80 74 0 80 79 77 78 79 78 77 78 77 78 77 0 77 0 0 88 62 82 83 81 80 79 77 78 77 78 77 78 77 78 77 78 50 0 78 78 87 86 84 0 84 0 80 79 80 81 80 79 80 0 75 76 77 79 77 76 75 76 74 75 76 0 76 73 72 71 72 71 72 70 69 68 69 71 50 67 68 70 71 69 0 71 73 74 0 74 0 0 0 91 89 88 87 75 86 67 58 67 74 73 86 88 95 94 87 82 81 80 69 70 71 65 66 90 91 90 86 92 93 86 73 76 75 74 47 49 79 56 82 83 84 73 74 76 65 77 79 80 81 80 78 74 69 72 91 95 94 77 78 79 89 88 87 84 87 51 77 81 75 74 73 75 76 77 78 79 75 86 75 86 75 74 73 74 75 76 77 85 86 83 84 77 75 74 72 71 70 72 79 77 78 73 96 72 91 90 88 76 75 80 93 75 62 87 83 88 87 81 83 72 79 77 90 84 86 81 77 76 75 74 84 81 80 79 78 77 76 77 75 76 75 73 72 89 83 81 80 81 82 84 85 84 79 64 65 83 75 68 77 76 83 84 87 88 93 77 88 77 74 72 69 73 87 88 87 94 77 76 77 76 77 75 74 77 75 74 73 80 81 80 79 80 77 76 75 74 83 87 89 86 98 95 97 96 94 0 60 88 57 91 88 55 57 61 89 61 55 57 88 60 91 58 65 58 91 89 92 91 0 81 82 80 47 81 69 57 63 72 73 74 75 57 76 70 63 53 47 52 61 60 0 65 47 58 53 61 74 75 76 58 55 96 83 82 81 80 79 64 78 63 78 68 56 66 56 55 66 55 66 63 83 84 89 88 87 88 0 88 0 0 0 84 83 82 81 80 79 78 77 78 77 78 77 77 78 77 78 77 77 77 78 0 92 91 79 91 89 47 86 74 86 74 86 74 86 73 85 0 84 83 82 81 80 79 78 77 78 77 78 77 78 77 78 77 76 77 78 59 77 0 0 0 79 80 76 75 74 60 55 0 53 0 72 0 70 72 70 72 71 72 70 71 70 72 71 58 51 50 62 50 74 73 49 60 47 0 80 52 84 52 89 80 68 46 62 85 84 80 79 78 77 52 80 52 76 49 76 52 76 0 0 85 86 0 86 85 84 56 80 81 80 79 78 79 80 0 0 0 0 80 79 78 77 76 75 74 73 72 75 76 75 76 71 72 73 75 76 77 78 79 78 79 78 0 84 85 61 81 84 85 83 57 83 80 45 81 83 84 83 0 85 86 85 86 84 83 84 85 84 81 80 79 78 79 66 79 81 79 0 0 76 0 78 76 78 76 79 77 0 79 80 78 81 80 80 0 0 77 77 46 77 66 65 77 46 49 65 49 54 65 53 85 64 65 64 65 61 66 65 66 60 80 60 80 68 80 81 47 81 47 81 80 46 61 78 59 83 85 84 0 54 53 54 73 74 58 0 74 58 82 53 75 82 65 49 46 69 82 62 54 80 81 50 84 81 80 50 47 67 80 81 82 84 83 82 54 78 58 77 58 0 0 45 78 72 74 75 74 72 70 69 68 67 67 66 54 65 79 0 72 73 74 86 78 80 53 80 62 53 65 64 72 61 73 74 51 0 94 93 94 63 93 92 68 91 88 49 90 56 67 52 0 45 67 86 73 85 0 83 82 68 80 79 91 60 58 67 86 78 80 78 87 47 0 84 46 74 47 78 86 0 96 97 98 97 96 97 96 97 0 72 0 97 96 95 94 93 92 93 92 64 78 59 60 79 56 55 56 55 56 60 55 79 80 79 78 77 75 76 72 74 73 54 62 63 48 63 54 63 64 56 53 74 48 59 65 56 86 75 57 84 74 84 0 78 52 53 44 54 46 58 63 84 48 53 0 82 72 82 49 0 69 89 52 71 89 90 0 0 78 90 73 80 78 73 80 78 79 91 80 54 52 80 79 78 80 78 79 78 79 80 53 91 0 61 85 0 83 85 82 79 78 58 53 46 77 0 0 96 59 79 82 70 72 67 66 79 77 75 73 67 87 84 83 84 69 70 92 79 78 74 77 76 75 78 96 59 57 66 77 85 74 76 51 75 76 77 58 62 75 76 77 78 77 79}


define variable rate_voice_one = {0.54 0.54 0.54 0.19 0.19 0.20 0.19 0.19 0.20 1.43 0.58 0.58 0.58 0.58 0.58 0.34 0.34 0.74 0.17 0.27 0.27 0.26 0.40 0.17 0.17 0.28 0.28 0.42 0.41 0.41 0.42 1.07 1.07 1.07 0.33 0.29 0.29 0.51 0.51 0.72 0.16 0.16 0.33 0.34 0.49 0.50 0.60 0.38 0.38 0.17 0.41 0.41 0.54 0.53 0.53 0.17 0.63 0.45 0.63 0.87 0.37 0.37 0.37 0.23 0.23 0.31 0.31 0.28 0.28 0.28 0.28 0.07 0.60 0.17 0.17 0.50 0.50 0.49 0.43 0.43 0.72 0.15 0.15 4.30 0.33 0.33 0.33 0.32 0.06 0.39 0.06 0.30 0.12 0.07 0.19 0.07 0.16 0.05 0.05 0.02 0.04 0.03 0.01 0.06 0.03 0.01 0.03 0.02 0.27 0.04 0.23 0.02 0.57 0.03 0.03 0.06 0.42 0.41 0.02 0.35 0.05 0.05 0.22 0.42 0.24 0.17 0.42 0.03 0.10 0.28 0.14 0.19 0.02 0.27 0.13 0.28 0.18 0.24 0.27 0.28 0.28 0.14 0.06 0.28 0.28 0.13 0.26 0.26 0.26 0.01 0.03 0.01 0.26 0.26 43.66 0.26 0.26 0.29 0.29 0.29 0.28 0.28 0.28 0.28 0.28 0.06 0.73 0.73 0.72 0.31 0.31 0.31 0.14 0.14 0.14 0.14 0.35 0.35 0.23 0.44 0.44 0.60 0.20 0.19 0.06 0.49 0.49 0.49 0.40 0.41 0.29 0.29 0.35 0.35 0.23 0.23 0.23 0.23 0.38 0.38 0.38 0.38 0.38 0.36 0.11 0.44 0.32 0.44 0.28 0.28 0.28 0.28 0.56 0.56 0.56 0.56 0.09 0.03 0.02 0.23 0.27 0.36 0.49 0.49 0.49 0.49 0.30 0.27 0.02 0.17 0.14 0.07 0.51 0.44 0.31 0.23 0.06 0.15 0.13 0.23 0.08 1.32 1.32 0.24 0.24 0.19 0.08 0.08 0.08 0.36 0.35 0.36 0.57 0.57 0.18 0.16 0.02 0.02 0.02 0.03 0.03 0.02 0.02 0.06 0.08 0.02 0.42 0.04 0.41 0.40 0.03 0.03 0.02 0.32 0.57 0.57 0.57 0.05 0.52 0.51 0.46 0.52 0.52 0.52 0.52 0.52 0.18 0.43 0.32 0.43 0.43 0.43 0.11 0.05 0.42 0.04 0.42 0.09 0.38 0.08 0.04 0.06 0.06 0.10 0.11 0.05 0.43 0.13 0.03 0.07 0.33 0.29 0.23 0.11 0.04 0.12 0.03 0.03 0.04 0.20 0.04 0.43 0.38 0.43 0.03 0.02 0.43 0.14 1.26 1.26 0.16 0.28 0.30 0.30 1.40 0.29 0.29 0.29 0.29 0.29 0.29 0.92 0.93 0.93 0.93 0.92 0.92 0.92 1.04 0.14 0.14 0.14 0.14 0.14 0.14 0.14 0.27 0.27 0.27 0.27 0.26 0.27 0.15 0.27 0.27 0.44 0.44 0.10 0.13 0.03 0.14 0.52 0.52 0.52 0.52 0.58 0.60 0.60 0.43 0.22 0.32 0.10 0.28 0.30 0.39 0.39 0.20 0.21 0.62 0.62 0.62 0.62 0.62 0.30 0.30 0.17 0.17 0.17 0.73 0.24 0.24 0.23 0.02 0.67 0.64 0.16 0.66 0.66 0.66 0.09 0.66 0.66 0.10 0.66 0.66 0.04 0.23 0.66 0.62 0.67 0.10 0.14 0.27 0.27 0.27 0.27 0.02 0.03 0.06 0.13 0.05 0.08 0.14 0.08 0.14 0.14 0.14 0.14 0.02 0.01 0.04 0.03 0.15 0.27 0.26 0.23 0.29 0.20 0.50 0.90 0.90 0.90 0.24 0.24 0.24 0.24 0.65 0.65 0.56 0.22 0.20 0.28 77.27 0.30 0.49 0.49 0.91 0.03 0.04 0.04 0.06 0.05 0.05 0.41 0.04 0.06 0.06 0.19 0.06 0.06 0.05 0.06 0.07 0.06 0.06 0.07 0.07 0.09 0.53 0.06 0.27 0.20 0.16 0.13 8.23 0.22 0.53 0.03 0.21 0.53 0.11 7.97 0.08 0.04 0.25 0.21 0.17 0.04 0.25 0.21 0.24 0.48 0.50 0.19 0.20 0.34 0.23 0.23 0.23 0.56 0.20 0.31 0.31 0.44 0.10 0.10 0.33 0.17 0.33 0.26 0.16 0.08 0.13 0.04 0.04 0.30 0.03 0.04 0.27 0.10 0.19 0.33 1.00 1.00 1.00 1.00 0.85 0.85 0.05 0.07 0.06 0.05 0.06 0.06 0.06 0.06 0.27 0.06 0.06 0.06 0.05 0.06 0.05 0.05 0.10 0.06 0.19 0.23 0.05 0.15 0.18 0.35 0.07 0.22 0.06 0.35 0.24 0.11 0.06 0.14 0.38 0.11 0.06 0.06 0.43 0.38 0.13 0.37 0.03 0.37 0.03 0.03 0.03 0.09 0.41 0.12 0.02 0.07 0.09 0.07 79.22 0.47 0.41 0.35 0.07 0.36 0.06 0.22 0.06 0.30 0.08 0.79 0.03 0.25 0.35 0.30 1.01 0.72 1.02 1.02 0.58 0.02 1.01 0.99 1.01 1.02 0.44 0.29 0.61 0.48 0.38 0.38 0.38 0.23 0.20 0.21 0.20 0.21 0.20 0.24 0.20 0.19 0.29 0.29 0.29 0.83 0.83 0.60 0.60 0.64 0.10 0.46 0.46 0.46 0.19 0.18 0.22 0.57 0.56 0.57 0.57 0.56 0.21 0.18 0.20 0.02 0.47 0.23 0.11 0.11 0.26 0.24 0.24 0.42 0.42 0.42 1.21 0.56 0.55 0.56 0.60 0.60 0.34 0.54 0.26 0.54 0.54 0.29 0.40 0.41 0.40 0.40 0.50 0.47 0.09 0.11 0.34 0.26 0.55 0.30 0.21 0.47 0.47 0.14 0.14 0.14 0.57 0.43 0.26 0.25 0.26 0.26 0.25 0.56 0.53 0.53 0.53 0.06 0.26 1.02 0.17 0.56 0.57 0.57 0.56 0.56 0.57 0.15 0.34 0.44 0.16 0.30 0.56 0.15 0.15 0.44 0.49 0.48 0.42 0.28 0.28 0.35 0.35 0.21 0.22 0.22 0.21 0.39 0.39 0.39 0.38 0.19 0.38 0.19 0.13 0.43 0.30 0.43 0.42 0.68 0.29 0.29 0.29 0.56 0.55 0.38 0.49 0.17 0.56 0.55 0.56 0.43 0.30 0.30 0.07 0.07 0.64 0.64 0.64 0.93 0.40 0.54 0.54 1.16 0.76 0.76 0.75 2.36 0.45 0.42 0.42 0.48 0.30 0.54 0.43 0.19 0.20 0.22 0.23 1.10 0.97 0.97 0.22 0.20 0.28 0.23 0.28 0.05 0.44 0.44 0.44 0.44 0.93 0.93 0.64 0.06 0.67 0.15 0.27 0.27 0.17 0.37 0.18 0.05 0.05 0.14 0.10 0.05 0.05 0.02 0.15 0.47 0.44 0.40 0.34 0.32 0.04 0.02 0.50 0.47 0.06 0.35 0.50 0.27 0.50 0.05 0.95 0.97 0.18 0.93 1.23 0.07 0.10 1.23 1.23 0.73 0.73 1.17 0.72 1.23 1.13 0.63 0.60 1.23 0.60 1.23 1.23 1.22 0.45 0.08 0.60 0.63 0.49 0.50 0.51 0.82 0.81 0.82 0.82 0.29 0.26 0.26 0.81 1.03 0.47 0.45 0.15 0.61 0.42 0.61 0.20 0.45 0.45 0.29 0.29 0.33 0.18 0.18 1.82 0.44 0.66 0.08 0.07 0.15 0.04 0.05 0.51 1.96 0.66 0.91 0.91 0.91 0.80 0.15 0.02 0.02 0.02 0.05 0.02 0.03 0.02 0.02 0.13 0.08 0.03 0.70 0.55 0.91 10.27 0.02 0.11 0.86 0.89 0.89 0.24 0.07 0.04 0.04 0.03 0.77 0.57 0.89 0.89 0.75 1.93 1.08 6.74 1.08 0.68 0.64 0.14 0.02 0.02 0.02 0.09 0.09 0.02 0.02 0.04 0.02 0.36 0.05 0.76 1.06 0.85 0.03 0.04 0.07 0.44 0.40 0.70 0.70 0.62 0.66 0.70 0.24 0.70 0.02 0.05 0.38 0.02 0.02 0.08 0.06 0.04 0.08 0.06 0.08 0.06 0.12 0.04 0.12 0.12 0.04 0.15 0.11 0.04 1.84 0.04 0.04 0.04 0.05 0.04 0.02 0.05 0.02 10.52 0.10 0.51 0.51 0.51 0.52 0.52 0.15 0.51 0.51 0.51 0.04 0.27 0.11 0.07 0.51 0.04 0.36 0.41 0.03 0.18 0.07 0.05 0.30 0.46 0.72 0.72 0.72 0.04 0.72 0.10 0.02 0.36 0.34 0.32 0.03 0.04 0.03 0.10 0.27 0.36 0.29 0.22 0.09 0.06 0.52 0.09 0.07 0.02 0.03 0.06 0.06 0.52 0.45 0.43 0.39 0.20 0.20 0.07 0.04 0.05 0.16 0.15 0.19 0.07 0.07 0.54 0.11 0.12 0.54 0.02 0.54 0.07 0.14 0.11 0.11 0.02 0.01 0.09 0.11 0.03 0.03 0.08 0.52 0.14 1.79 0.03 0.35 0.51 0.11 0.21 0.03 0.21 0.04 0.21 0.02 0.10 0.13 0.03 0.16 0.03 0.03 0.02 0.03 0.11 0.15 0.05 0.35 0.14 0.30 0.04 0.24 0.35 0.05 0.26 0.06 0.14 0.03 0.04 0.10 0.08 0.33 0.07 0.20 0.48 0.07 0.08 0.51 0.57 0.10 0.57 0.40 0.04 0.02 0.54 0.04 0.28 0.02 0.23 0.23 0.02 0.02 0.46 0.04 0.46 0.11 0.03 0.02 0.03 0.44 0.40 0.31 0.05 0.30 0.46 0.46 0.45 0.18 0.45 0.24 0.02 0.17 0.44 0.46 0.08 0.09 0.21 0.38 0.37 0.03 0.29 0.46 0.08 0.46 0.45 0.45 0.45 0.34 0.46 0.02 0.05 0.03 0.06 0.16 0.12 0.09 0.34 2.43 0.41 0.26 0.25 0.01 0.24 0.17 0.06 0.18 0.18 0.02 0.18 0.16 0.02 0.16 0.18 0.39 0.06 0.04 0.39 0.39 0.33 0.39 0.39 0.39 0.14 0.24 0.32 0.39 0.39 0.39 0.39 0.19 0.21 0.21 0.81 0.83 0.02 0.04 0.83 0.83 0.79 0.83 0.83 0.64 0.83 0.62 0.61 0.82 0.54 0.07 0.05 0.66 0.66 0.66 0.66 0.22 0.24 0.66 0.66 0.66 0.66 0.06 0.66 0.08 0.66 0.15 0.02 0.14 0.66 0.21 0.66 0.66 0.43 0.12 0.66 0.42 0.66 0.66 0.45 0.20 0.04 0.54 0.13 0.45 0.07 0.10 0.44 0.44 0.44 0.38 0.32 0.30 0.23 0.07 0.04 0.45 0.03 0.02 0.04 0.11 0.08 0.04 0.69 1.00 0.27 0.24 1.05 1.05 0.06 0.08 0.11 0.09 0.17 0.17 0.17 0.16 0.16 0.02 0.04 0.04 0.08 0.10 0.17 0.04 0.01 0.17 0.05 0.55 0.55 0.28 0.55 0.36 0.16 0.55 0.06 0.55 0.02 0.09 0.02 0.17 0.17 0.17 0.07 0.05 0.04 0.04 0.04 0.04 0.05 0.05 0.05 0.05 0.02 0.05 0.04 0.05 0.06 0.06 0.06 0.56 0.56 0.55 0.55 0.55 2.20 0.56 1.04 0.07 0.03 0.56 0.53 0.55 0.14 0.56 0.03 0.28 0.28 0.28 0.27 0.02 0.25 0.08 0.58 0.05 0.05 0.03 0.54 0.04 0.09 0.07 0.16 0.04 0.59 0.58 0.03 0.04 0.02 0.05 0.02 0.02 0.02 0.46 0.38 0.59 0.43 0.45 0.38 0.33 0.13 0.39 0.01 0.51 0.52 0.51 0.52 0.51 0.52 0.39 0.05 0.47 0.24 0.58 0.16 0.36 0.36 0.38 0.38 0.59 0.59 0.59 0.30 0.09 0.24 0.24 0.24 0.24 0.10 0.10 0.61 0.33 0.33 0.33 0.28 0.28 0.27 0.54 0.92 0.92 0.81 0.81 0.78 0.44 0.24 0.03 0.69 0.54 0.55 0.54 0.57 0.57 0.14 0.32 0.32 0.32 0.45 0.15}


define process playtune (reps, pat, rate)
  run repeat reps
    for n = next(pat)
    for r = next(rate)
    if r < 0.1 then set r = next(rate)
    if r > 2.0 then set r = next(rate)
    if n > 0 then send "mp:midi", key: n, dur: r
    wait r
  end

define variable markov_key_voice_one = markov-analyze(key_voice_one, order: 2, mode: 2)
define variable markov_rate_voice_one = markov-analyze(rate_voice_one, order: 1, mode: 2)


sprout list (
playtune(500, markov_key_voice_one, markov_rate_voice_one)
), "Black_Cap6.mid"